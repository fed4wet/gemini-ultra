<div class="frame">
  <nb-layout>
    <nb-layout-column class="fix">

      <nb-chat [attr.data-after-content]="'Conversation'">
        <div *nbCustomMessage="'md'; let text">
          <markdown ngPreserveWhitespaces emoji>
            {{ text }}
          </markdown>
        </div>
        
        <nb-chat-message *ngFor="let msg of messages" [type]="msg.type" [message]="msg.text" [reply]="msg.reply"
          [sender]="msg.sender" [date]="msg.date" [avatar]="msg.avatar"
          [customMessageData]="msg.customMessageData">
        </nb-chat-message>

        <nb-chat-message *ngIf="loading" [nbSpinner]="loading" nbSpinnerStatus="info" type="text" message="...">
        </nb-chat-message>

        <nb-chat-form (send)="handleUserMessage($event)" [dropFiles]="true" messagePlaceholder="Enter a prompt here">
        </nb-chat-form>
        
      </nb-chat>

    </nb-layout-column>
  </nb-layout>
  <div #bottom></div>
</div>